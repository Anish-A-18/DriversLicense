import javax.swing.*;
import javax.swing.table.DefaultTableModel;
import java.awt.*;
import java.util.LinkedList;

public class DriverInfoGUI extends JFrame {
    private DefaultTableModel tableModel;
    private JTable driverTable;

    public DriverInfoGUI(LinkedList<Driver> drivers, LinkedList<String> header) {
        setTitle("Driver Information");
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setSize(800, 400);

        // Create a table model with columns from the header
        tableModel = new DefaultTableModel();
        for (String column : header) {
            tableModel.addColumn(column);
        }

        // Add driver data to the table model
        for (Driver driver : drivers) {
            Object[] rowData = {
                    driver.FN, driver.LN, driver.gen, driver.DOB, driver.age, driver.EC, driver.Add, driver.point
            };
            tableModel.addRow(rowData);
        }

        // Create a JTable with the table model
        driverTable = new JTable(tableModel);
        driverTable.setAutoCreateRowSorter(true);

        // Create a scroll pane for the table
        JScrollPane scrollPane = new JScrollPane(driverTable);

        // Add the scroll pane to the frame
        add(scrollPane, BorderLayout.CENTER);
    }

    public static void main(String[] args) {
        dataLoader loader = new dataLoader();
        loader.loadCSV();

        SwingUtilities.invokeLater(() -> {
            DriverInfoGUI frame = new DriverInfoGUI(loader.getDrivers(), loader.getHeader());
            frame.setVisible(true);
        });
    }
}

